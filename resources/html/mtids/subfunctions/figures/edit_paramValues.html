<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of edit_paramValues</title>
  <meta name="keywords" content="edit_paramValues">
  <meta name="description" content="EDIT_PARAMVALUES gui to edit numerical parameter values of a template">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">mtids</a> &gt; <a href="../index.html">subfunctions</a> &gt; <a href="index.html">figures</a> &gt; edit_paramValues.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mtids\subfunctions\figures&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>edit_paramValues
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>EDIT_PARAMVALUES gui to edit numerical parameter values of a template</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function varargout = edit_paramValues(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> EDIT_PARAMVALUES gui to edit numerical parameter values of a template

 This GUI enables editing the numerical parameter set of the template,
 which was chosen for a specific node. This set can also be saved to disk,
 if needed.

 INPUT:    (1) -- Cell array, consisting of name and value set of the
                   template

 OUTPUT:   (1) -- Cell array, same structure as input

 Author: Ferdinand Trommsdorff (f.trommsdorff@gmail.com)
 Project: MTIDS (http://code.google.com/p/mtids/)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../mtids/subfunctions/isValidData.html" class="code" title="function varargout = isValidData( varargin )">isValidData</a>	ISVALIDDATA Test prompted user data for feasiblity</li><li><a href="../../../mtids/subfunctions/matgraph/@graph/delete.html" class="code" title="function delete(g,i,j,dir)">delete</a>	delete --- delete vertices or edges from a graph</li><li><a href="../../../mtids/subfunctions/matgraph/@graph/size.html" class="code" title="function [sz,tz] = size(g)">size</a>	size(g) --- returns [nv,ne] for the graph</li><li><a href="../../../mtids/subfunctions/matgraph/@partition/size.html" class="code" title="function s = size(p)">size</a>	size(p) --- returns [nv,np]: number of vertices, parts.</li><li><a href="../../../mtids/subfunctions/saveParamSet2File.html" class="code" title="function varargout = saveParamSet2File( varargin )">saveParamSet2File</a>	SAVEPARAMSET2FILE storing parameter set for a template</li><li><a href="../../../mtids/subfunctions/testingValueSet.html" class="code" title="function varargout = testingValueSet( varargin )">testingValueSet</a>	TESTINGVALUESET checking numerical parameters of template</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="edit_node.html" class="code" title="function varargout = edit_node(varargin)">edit_node</a>	EDIT_NODE gui to edit settings of a specific node in a MTIDS graph</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function edit_paramValues_OpeningFcn(hObject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = edit_paramValues_OutputFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function TextField1InputSpecs_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function TextField1InputSpecs_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function TextField2InputSpecs_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function TextField2InputSpecs_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub7" class="code">function table_CellSelectionCallback(src,evt,handles)</a></li><li><a href="#_sub8" class="code">function main_editParamValues_DeleteFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub9" class="code">function pushbutton_save2Template_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub10" class="code">function pushbutton_cancel_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub11" class="code">function main_editParamValues_CloseRequestFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub12" class="code">function edit_setName_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub13" class="code">function edit_setName_CreateFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub14" class="code">function pushbutton_save2File_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub15" class="code">function table_CellEditCallbackFcn(src,evt,handles)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = edit_paramValues(varargin)</a>
0002 <span class="comment">% EDIT_PARAMVALUES gui to edit numerical parameter values of a template</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% This GUI enables editing the numerical parameter set of the template,</span>
0005 <span class="comment">% which was chosen for a specific node. This set can also be saved to disk,</span>
0006 <span class="comment">% if needed.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% INPUT:    (1) -- Cell array, consisting of name and value set of the</span>
0009 <span class="comment">%                   template</span>
0010 <span class="comment">%</span>
0011 <span class="comment">% OUTPUT:   (1) -- Cell array, same structure as input</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% Author: Ferdinand Trommsdorff (f.trommsdorff@gmail.com)</span>
0014 <span class="comment">% Project: MTIDS (http://code.google.com/p/mtids/)</span>
0015 
0016 <span class="comment">% Last Modified by GUIDE v2.5 20-Sep-2012 09:28:39</span>
0017 
0018 <span class="comment">% Begin initialization code - DO NOT EDIT</span>
0019 gui_Singleton = 1;
0020 gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
0021                    <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
0022                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction edit_paramValues_OpeningFcn(hObject, eventdata, handles, varargin)">edit_paramValues_OpeningFcn</a>, <span class="keyword">...</span>
0023                    <span class="string">'gui_OutputFcn'</span>,  @<a href="#_sub2" class="code" title="subfunction varargout = edit_paramValues_OutputFcn(hObject, eventdata, handles)  ">edit_paramValues_OutputFcn</a>, <span class="keyword">...</span>
0024                    <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
0025                    <span class="string">'gui_Callback'</span>,   []);
0026 <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
0027     gui_State.gui_Callback = str2func(varargin{1});
0028 <span class="keyword">end</span>
0029 
0030 <span class="keyword">if</span> nargout
0031     [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
0032 <span class="keyword">else</span>
0033     gui_mainfcn(gui_State, varargin{:});
0034 <span class="keyword">end</span>
0035 <span class="comment">% End initialization code - DO NOT EDIT</span>
0036 
0037 
0038 <span class="comment">% --- Executes just before edit_paramValues is made visible.</span>
0039 <a name="_sub1" href="#_subfunctions" class="code">function edit_paramValues_OpeningFcn(hObject, eventdata, handles, varargin)</a>
0040 <span class="comment">% This function has no output args, see OutputFcn.</span>
0041 <span class="comment">% hObject    handle to figure</span>
0042 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0043 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0044 <span class="comment">% varargin   command line arguments to edit_paramValues (see VARARGIN)</span>
0045 data.template = varargin{1};
0046 data.templateSaved = 0;
0047 handles.sysname = [data.template{1,1} <span class="string">'_CHECKED'</span>];
0048 handles.pathname = [pwd filesep <span class="string">'templates'</span> filesep <span class="string">'import'</span> filesep];
0049 load_system( [handles.pathname handles.sysname] );
0050 <span class="comment">% Standard: output will not be saved</span>
0051 handles.flagOutput = 0;
0052 <span class="comment">% Initialise ui elements</span>
0053 set(handles.TextField2InputSpecs,<span class="string">'String'</span>, <span class="keyword">...</span>
0054     num2str( data.template{1,2}.inputSpec.noOfIntInputs ) );
0055 inputStrg = [];
0056 <span class="keyword">for</span> kk = 1:length( data.template{1,2}.inputSpec.Vars )
0057     inputStrg = [inputStrg <span class="string">', '</span> data.template{1,2}.inputSpec.Vars{kk}]; <span class="comment">%#ok&lt;AGROW&gt;</span>
0058 <span class="keyword">end</span>
0059 set(handles.TextField1InputSpecs,<span class="string">'String'</span>, inputStrg(3:end) );
0060 tableRowNames = data.template{1,2}.set(:,1);
0061 tableData = data.template{1,2}.set;
0062 cnames = cell( <a href="../../../mtids/subfunctions/matgraph/@graph/size.html" class="code" title="function [sz,tz] = size(g)">size</a>(tableData,2) , 1 );
0063 cnames{1} = <span class="string">'Block Name'</span>;
0064 columneditable = logical( zeros(1, <a href="../../../mtids/subfunctions/matgraph/@graph/size.html" class="code" title="function [sz,tz] = size(g)">size</a>(tableData,2) )); <span class="comment">%#ok&lt;LOGL&gt;</span>
0065 <span class="keyword">for</span> i = 1:floor( <a href="../../../mtids/subfunctions/matgraph/@graph/size.html" class="code" title="function [sz,tz] = size(g)">size</a>(tableData,2) / 2)
0066     cnames{2*i} = <span class="string">'Parameter Name'</span>;
0067     cnames{2*i + 1} = <span class="string">'Value'</span>;
0068     columneditable(2*i) = false;
0069     columneditable(2*i + 1) = true;
0070 <span class="keyword">end</span>
0071 columnformat = repmat( {<span class="string">'char'</span>}, 1,<a href="../../../mtids/subfunctions/matgraph/@graph/size.html" class="code" title="function [sz,tz] = size(g)">size</a>(tableData,2) );
0072 set(handles.t,<span class="string">'CellSelectionCallback'</span>,<span class="keyword">...</span>
0073     {@<a href="#_sub7" class="code" title="subfunction table_CellSelectionCallback(src,evt,handles)">table_CellSelectionCallback</a>,handles},<span class="string">'CellEditCallback'</span>,<span class="keyword">...</span>
0074     {@<a href="#_sub15" class="code" title="subfunction table_CellEditCallbackFcn(src,evt,handles) ">table_CellEditCallbackFcn</a>,handles},<span class="string">'RowName'</span>,tableRowNames,<span class="keyword">...</span>
0075     <span class="string">'Data'</span>,tableData,<span class="string">'ColumnName'</span>,cnames,<span class="keyword">...</span>
0076     <span class="string">'ColumnEditable'</span>, columneditable,<span class="string">'ColumnFormat'</span>,columnformat);
0077 set(handles.edit_setName,<span class="string">'String'</span>,data.template{1,2}.setName);
0078 <span class="comment">% Choose default command line output for edit_paramValues</span>
0079 handles.output = hObject;
0080 <span class="comment">% Update handles structure</span>
0081 setappdata(handles.main_editParamValues,<span class="string">'appData'</span>,data);
0082 guidata(hObject, handles);
0083 <span class="comment">% UIWAIT makes edit_paramValues wait for user response (see UIRESUME)</span>
0084 uiwait(handles.main_editParamValues);
0085 
0086 
0087 <span class="comment">% --- Outputs from this function are returned to the command line.</span>
0088 <a name="_sub2" href="#_subfunctions" class="code">function varargout = edit_paramValues_OutputFcn(hObject, eventdata, handles)  </a><span class="comment">%#ok&lt;*INUSL&gt;</span>
0089 <span class="comment">% varargout  cell array for returning output args (see VARARGOUT);</span>
0090 <span class="comment">% hObject    handle to figure</span>
0091 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0092 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0093 data = getappdata(handles.main_editParamValues,<span class="string">'appData'</span>);
0094 <span class="keyword">if</span> handles.flagOutput == 1
0095     varargout{1} = data.new_template;
0096 <span class="keyword">else</span>
0097     varargout{1} = data.template;
0098 <span class="keyword">end</span>
0099 varargout{2} = data.templateSaved;
0100 <a href="../../../mtids/subfunctions/matgraph/@graph/delete.html" class="code" title="function delete(g,i,j,dir)">delete</a>(handles.main_editParamValues);
0101 
0102 
0103 <a name="_sub3" href="#_subfunctions" class="code">function TextField1InputSpecs_Callback(hObject, eventdata, handles)</a>
0104 <span class="comment">% hObject    handle to TextField1InputSpecs (see GCBO)</span>
0105 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0106 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0107 
0108 <span class="comment">% Hints: get(hObject,'String') returns contents of TextField1InputSpecs as text</span>
0109 <span class="comment">%        str2double(get(hObject,'String')) returns contents of TextField1InputSpecs as a double</span>
0110 
0111 
0112 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0113 <a name="_sub4" href="#_subfunctions" class="code">function TextField1InputSpecs_CreateFcn(hObject, eventdata, handles)</a>
0114 <span class="comment">% hObject    handle to TextField1InputSpecs (see GCBO)</span>
0115 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0116 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0117 
0118 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0119 <span class="comment">%       See ISPC and COMPUTER.</span>
0120 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0121     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0122 <span class="keyword">end</span>
0123 
0124 
0125 <a name="_sub5" href="#_subfunctions" class="code">function TextField2InputSpecs_Callback(hObject, eventdata, handles)</a>
0126 <span class="comment">% hObject    handle to TextField2InputSpecs (see GCBO)</span>
0127 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0128 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0129 
0130 <span class="comment">% Hints: get(hObject,'String') returns contents of TextField2InputSpecs as text</span>
0131 <span class="comment">%        str2double(get(hObject,'String')) returns contents of TextField2InputSpecs as a double</span>
0132 
0133 
0134 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0135 <a name="_sub6" href="#_subfunctions" class="code">function TextField2InputSpecs_CreateFcn(hObject, eventdata, handles)</a>
0136 <span class="comment">% hObject    handle to TextField2InputSpecs (see GCBO)</span>
0137 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0138 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0139 
0140 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0141 <span class="comment">%       See ISPC and COMPUTER.</span>
0142 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0143     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0144 <span class="keyword">end</span>
0145 
0146 <span class="comment">% --- Executes when selected cell(s) is changed</span>
0147 <a name="_sub7" href="#_subfunctions" class="code">function table_CellSelectionCallback(src,evt,handles)</a>
0148 handles.selected_cells = evt.Indices;
0149 guidata(src, handles);
0150 
0151 <span class="comment">% --- Executes during object deletion, before destroying properties.</span>
0152 <a name="_sub8" href="#_subfunctions" class="code">function main_editParamValues_DeleteFcn(hObject, eventdata, handles) </a><span class="comment">%#ok&lt;INUSL&gt;</span>
0153 <span class="comment">% hObject    handle to main_editParamValues (see GCBO)</span>
0154 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0155 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0156 <span class="keyword">if</span> isfield(handles,<span class="string">'sysname'</span>)
0157     close_system(handles.sysname,0);
0158 <span class="keyword">end</span>
0159 
0160 
0161 <span class="comment">% --- Executes on button press in pushbutton_save2Template.</span>
0162 <a name="_sub9" href="#_subfunctions" class="code">function pushbutton_save2Template_Callback(hObject, eventdata, handles) </a><span class="comment">%#ok&lt;*DEFNU,*INUSD&gt;</span>
0163 <span class="comment">% hObject    handle to pushbutton_save2Template (see GCBO)</span>
0164 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0165 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0166 data = getappdata(handles.main_editParamValues,<span class="string">'appData'</span>);
0167 <span class="comment">% If succ == 'yes', test simulation with param value set was successfull</span>
0168 [dimension succ ME_testSimulation ME_paramsFeasible] = <a href="../../../mtids/subfunctions/testingValueSet.html" class="code" title="function varargout = testingValueSet( varargin )">testingValueSet</a>( handles,0 );
0169 <span class="keyword">if</span> strcmp( succ, <span class="string">'yes'</span> )
0170     inputSpec.Vars = regexp( get(handles.TextField1InputSpecs,<span class="string">'String'</span>), <span class="string">'[a-zA-Z0-9]'</span>,<span class="string">'match'</span>);
0171     inputSpec.noOfIntInputs = str2double(get(handles.TextField2InputSpecs,<span class="string">'string'</span>));
0172     data.new_template{1,1} = data.template{1,1};
0173     data.new_template{1,2}.set = get(handles.t,<span class="string">'Data'</span>);
0174     data.new_template{1,2}.dimension = dimension;
0175     data.new_template{1,2}.inputSpec = inputSpec;
0176     data.new_template{1,2}.setName = get(handles.edit_setName,<span class="string">'String'</span>);
0177     handles.flagOutput = 1;
0178     setappdata(handles.main_editParamValues,<span class="string">'appData'</span>,data);
0179     guidata(hObject, handles);
0180     uiresume(handles.main_editParamValues);
0181 <span class="keyword">else</span>
0182     error = {};
0183     <span class="keyword">if</span> ~isempty( ME_testSimulation )
0184         error = {error, ME_testSimulation.message };
0185     <span class="keyword">end</span>
0186     <span class="keyword">if</span> ~isempty( ME_paramsFeasible )
0187         error = {error, ME_paramsFeasible.message };
0188     <span class="keyword">end</span>
0189     error = error(~cellfun(@isempty,error));
0190     errordlg({<span class="string">'The test using the new system parameters failed. '</span>,<span class="keyword">...</span>
0191         <span class="string">'Maybe the following messages will help you to find the error: '</span>,<span class="keyword">...</span>
0192         error{:} }); <span class="comment">%#ok&lt;*CCAT&gt;</span>
0193 <span class="keyword">end</span>
0194 
0195 
0196 <span class="comment">% --- Executes on button press in pushbutton_cancel.</span>
0197 <a name="_sub10" href="#_subfunctions" class="code">function pushbutton_cancel_Callback(hObject, eventdata, handles)</a>
0198 <span class="comment">% hObject    handle to pushbutton_cancel (see GCBO)</span>
0199 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0200 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0201 uiresume(handles.main_editParamValues);
0202 
0203 <span class="comment">% --- Executes when user attempts to close main_editParamValues.</span>
0204 <a name="_sub11" href="#_subfunctions" class="code">function main_editParamValues_CloseRequestFcn(hObject, eventdata, handles)</a>
0205 <span class="comment">% hObject    handle to main_editParamValues (see GCBO)</span>
0206 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0207 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0208 
0209 <span class="comment">% Hint: delete(hObject) closes the figure</span>
0210 uiresume(handles.main_editParamValues);
0211 
0212 
0213 
0214 <a name="_sub12" href="#_subfunctions" class="code">function edit_setName_Callback(hObject, eventdata, handles)</a>
0215 <span class="comment">% hObject    handle to edit_setName (see GCBO)</span>
0216 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0217 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0218 
0219 <span class="comment">% Hints: get(hObject,'String') returns contents of edit_setName as text</span>
0220 <span class="comment">%        str2double(get(hObject,'String')) returns contents of edit_setName as a double</span>
0221 
0222 <span class="comment">% --- Executes during object creation, after setting all properties.</span>
0223 <a name="_sub13" href="#_subfunctions" class="code">function edit_setName_CreateFcn(hObject, eventdata, handles)</a>
0224 <span class="comment">% hObject    handle to edit_setName (see GCBO)</span>
0225 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0226 <span class="comment">% handles    empty - handles not created until after all CreateFcns called</span>
0227 <span class="comment">% Hint: edit controls usually have a white background on Windows.</span>
0228 <span class="comment">%       See ISPC and COMPUTER.</span>
0229 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hObject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0230     set(hObject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0231 <span class="keyword">end</span>
0232 
0233 
0234 <span class="comment">% --- Executes on button press in pushbutton_save2File.</span>
0235 <a name="_sub14" href="#_subfunctions" class="code">function pushbutton_save2File_Callback(hObject, eventdata, handles)</a>
0236 <span class="comment">% hObject    handle to pushbutton_save2File (see GCBO)</span>
0237 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0238 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0239 data = getappdata(handles.main_editParamValues,<span class="string">'appData'</span>);
0240 templName = handles.sysname(1:regexp(handles.sysname,<span class="string">'(_CHECKED)'</span>)-1);
0241 [dimension testSucc ME1 ME2] = <a href="../../../mtids/subfunctions/testingValueSet.html" class="code" title="function varargout = testingValueSet( varargin )">testingValueSet</a>( handles,0 );
0242 pathname = [pwd filesep <span class="string">'templates'</span> filesep <span class="string">'import'</span> filesep];
0243 <span class="keyword">if</span> strcmp(testSucc,<span class="string">'yes'</span>)
0244     [succ errMess ] = <a href="../../../mtids/subfunctions/saveParamSet2File.html" class="code" title="function varargout = saveParamSet2File( varargin )">saveParamSet2File</a>(handles.TextField1InputSpecs,<span class="keyword">...</span>
0245         handles.TextField2InputSpecs,templName, handles.edit_setName,<span class="keyword">...</span>
0246         get(handles.t,<span class="string">'Data'</span>), dimension, pathname);
0247 <span class="keyword">else</span>
0248     disp(<span class="string">'Testing the parameter set failed.'</span>);
0249     disp(<span class="string">'Maybe the following message will help you to find the error:'</span>);
0250     <span class="keyword">if</span> ~isempty(ME1)
0251         disp(ME1.message);
0252     <span class="keyword">end</span>
0253     <span class="keyword">if</span> ~isempty(ME2)
0254         disp(ME2.message);
0255     <span class="keyword">end</span>
0256 <span class="keyword">end</span>
0257 <span class="keyword">if</span> ~succ
0258     disp(<span class="string">'Could not save parameter set due to following reason:'</span>);
0259     <span class="keyword">if</span> ~isempty(errMess)
0260         disp(errMess);
0261     <span class="keyword">end</span>
0262 <span class="keyword">else</span>
0263     data.templateSaved = 1;
0264 <span class="keyword">end</span>
0265 setappdata(handles.main_editParamValues,<span class="string">'appData'</span>,data);
0266 
0267 <span class="comment">% --- Executes when cell(s) is (are) edited</span>
0268 <a name="_sub15" href="#_subfunctions" class="code">function table_CellEditCallbackFcn(src,evt,handles) </a><span class="comment">%#ok&lt;INUSL&gt;</span>
0269 <span class="comment">% success = 0;</span>
0270 <span class="comment">% Get indices of edited cell</span>
0271 IDX = evt.Indices;
0272 rowIDX = IDX(1);
0273 colIDX = IDX(2);
0274 cellData = get(handles.t,<span class="string">'Data'</span>);
0275 handles.sysname = gcs;
0276 success = <a href="../../../mtids/subfunctions/isValidData.html" class="code" title="function varargout = isValidData( varargin )">isValidData</a>( handles, rowIDX, colIDX );
0277 <span class="keyword">if</span> ~success
0278     errordlg(<span class="string">'Parameter value not possible'</span>);
0279     <span class="comment">% Restore old data</span>
0280     cellData{ rowIDX,colIDX } = evt.PreviousData;
0281     set(handles.t,<span class="string">'Data'</span>,cellData);
0282 <span class="keyword">else</span>
0283     handles.noChanges = 0;
0284     handles.succTest = 0;
0285 <span class="keyword">end</span>
0286 guidata(src,handles);</pre></div>
<hr><address>Generated on Mon 01-Oct-2012 17:13:50 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>