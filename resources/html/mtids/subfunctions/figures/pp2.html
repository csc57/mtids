<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of pp2</title>
  <meta name="keywords" content="pp2">
  <meta name="description" content="PP2 gui to set the plot specifications for each signal to plot">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">mtids</a> &gt; <a href="../index.html">subfunctions</a> &gt; <a href="index.html">figures</a> &gt; pp2.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mtids\subfunctions\figures&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>pp2
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>PP2 gui to set the plot specifications for each signal to plot</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function varargout = pp2(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> PP2 gui to set the plot specifications for each signal to plot

 This GUI allows to specifiy individually each signal, which should be
 plotted. The configurations comprises line width, line and marker style, 
 line, marker and edge color.

 INPUT:    (1) -- Index of node in MTIDS graph system
           (2) -- Logical vector of output and state signals, which should
                   be plotted
           (3) -- Char array, for visualizing all selected plot states
           (4) -- Struct, containing the old plotting configurations

 OUTPUT:   (1) -- Struct, containing the new plotting configurations

 Author: Ferdinand Trommsdorff (f.trommsdorff@gmail.com)
 Project: MTIDS (http://code.google.com/p/mtids/)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../mtids/subfunctions/matgraph/@graph/delete.html" class="code" title="function delete(g,i,j,dir)">delete</a>	delete --- delete vertices or edges from a graph</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="edit_node.html" class="code" title="function varargout = edit_node(varargin)">edit_node</a>	EDIT_NODE gui to edit settings of a specific node in a MTIDS graph</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function pp2_OpeningFcn(hObject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = pp2_OutputFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function pushbutton1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function figure1_CloseRequestFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function pushbutton2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function color_setting_Callback(hObject, eventdata, handles)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = pp2(varargin)</a>
0002 <span class="comment">% PP2 gui to set the plot specifications for each signal to plot</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% This GUI allows to specifiy individually each signal, which should be</span>
0005 <span class="comment">% plotted. The configurations comprises line width, line and marker style,</span>
0006 <span class="comment">% line, marker and edge color.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% INPUT:    (1) -- Index of node in MTIDS graph system</span>
0009 <span class="comment">%           (2) -- Logical vector of output and state signals, which should</span>
0010 <span class="comment">%                   be plotted</span>
0011 <span class="comment">%           (3) -- Char array, for visualizing all selected plot states</span>
0012 <span class="comment">%           (4) -- Struct, containing the old plotting configurations</span>
0013 <span class="comment">%</span>
0014 <span class="comment">% OUTPUT:   (1) -- Struct, containing the new plotting configurations</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% Author: Ferdinand Trommsdorff (f.trommsdorff@gmail.com)</span>
0017 <span class="comment">% Project: MTIDS (http://code.google.com/p/mtids/)</span>
0018 
0019 <span class="comment">% Last Modified by GUIDE v2.5 25-Apr-2012 11:50:50</span>
0020 
0021 <span class="comment">% Begin initialization code - DO NOT EDIT</span>
0022 gui_Singleton = 1;
0023 gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
0024                    <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
0025                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction pp2_OpeningFcn(hObject, eventdata, handles, varargin)">pp2_OpeningFcn</a>, <span class="keyword">...</span>
0026                    <span class="string">'gui_OutputFcn'</span>,  @<a href="#_sub2" class="code" title="subfunction varargout = pp2_OutputFcn(hObject, eventdata, handles)">pp2_OutputFcn</a>, <span class="keyword">...</span>
0027                    <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
0028                    <span class="string">'gui_Callback'</span>,   []);
0029 <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
0030     gui_State.gui_Callback = str2func(varargin{1});
0031 <span class="keyword">end</span>
0032 
0033 <span class="keyword">if</span> nargout
0034     [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
0035 <span class="keyword">else</span>
0036     gui_mainfcn(gui_State, varargin{:});
0037 <span class="keyword">end</span>
0038 <span class="comment">% End initialization code - DO NOT EDIT</span>
0039 
0040 
0041 <span class="comment">% --- Executes just before pp2 is made visible.</span>
0042 <a name="_sub1" href="#_subfunctions" class="code">function pp2_OpeningFcn(hObject, eventdata, handles, varargin)</a>
0043 <span class="comment">% This function has no output args, see OutputFcn.</span>
0044 <span class="comment">% hObject    handle to figure</span>
0045 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0046 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0047 <span class="comment">% varargin   command line arguments to pp2 (see VARARGIN)</span>
0048 
0049 <span class="comment">% Choose default command line output for pp2</span>
0050 handles(1).output = hObject;
0051 
0052 defaultBackground = get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>);
0053 set(gcf,<span class="string">'Color'</span>,defaultBackground);
0054 
0055 <span class="comment">%Initializing</span>
0056 nodenumber = varargin{1};
0057 plotStates = varargin{2};
0058 plotString = varargin{3};
0059 oldParams = varargin{4};
0060 handles(1).nrOfPlotStates = length(plotStates);
0061 
0062 <span class="keyword">if</span> handles(1).nrOfPlotStates ~= length(oldParams)
0063 <span class="comment">%     disp(['ERROR - nrOfPlotStates and length(oldParams) must be equal!']);</span>
0064 <span class="keyword">end</span>
0065 
0066 <span class="comment">%DEBUGGING</span>
0067 <span class="comment">%{</span>
0068 disp([<span class="string">'Nodenumber: '</span> num2str(nodenumber) ]);
0069 disp([<span class="string">'Plot state vector: '</span> num2str(plotStates) ]);
0070 disp([<span class="string">'Number of states to plot: '</span> num2str(handles.nrOfPlotStates) ]);
0071 <span class="comment">%}</span>
0072 
0073 <span class="comment">%% Outputstrings</span>
0074 handles(1).lineWidthVector = {<span class="string">'0.2'</span>,<span class="string">'0.4'</span>,<span class="string">'0.6'</span>,<span class="string">'0.8'</span>,<span class="string">'1.0'</span>,<span class="string">'1.2'</span>,<span class="string">'1.4'</span>,<span class="string">'1.6'</span>,<span class="string">'1.8'</span>,<span class="string">'2.0'</span>,<span class="keyword">...</span>
0075                 <span class="string">'2.2'</span>,<span class="string">'2.4'</span>,<span class="string">'2.6'</span>,<span class="string">'2.8'</span>,<span class="string">'3.0'</span>,<span class="string">'3.2'</span>,<span class="string">'3.4'</span>,<span class="string">'3.6'</span>,<span class="string">'3.8'</span>,<span class="string">'4.0'</span>};
0076 handles(1).lineStyleVector = {<span class="string">'-'</span>,<span class="string">'--'</span>,<span class="string">':'</span>,<span class="string">'-.'</span>,<span class="string">'none'</span>};
0077 handles(1).markerVector = {<span class="string">'+'</span>,<span class="string">'o'</span>,<span class="string">'*'</span>,<span class="string">'.'</span>,<span class="string">'x'</span>,<span class="string">'s'</span>,<span class="string">'d'</span>,<span class="string">'^'</span>,<span class="string">'v'</span>,<span class="string">'&gt;'</span>,<span class="string">'&lt;'</span>,<span class="string">'p'</span>,<span class="string">'h'</span>,<span class="string">'none'</span>};
0078 handles(1).colorVector = {<span class="string">'r'</span>,<span class="string">'g'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'m'</span>,<span class="string">'y'</span>,<span class="string">'k'</span>,<span class="string">'w'</span>};
0079 <span class="comment">%%</span>
0080 
0081 <span class="comment">%% Set layout parameters</span>
0082 rowHeight = 35; <span class="comment">%height of each line</span>
0083 fixedHeight = 140; <span class="comment">%height of figure, if no parameter is chosen</span>
0084 topFrame = 30;
0085 bottomFrame = 0.5*topFrame;
0086 sideFrame = 0.5*topFrame;
0087 rowOffset1 = 25;
0088 
0089 <span class="comment">%% Geometry</span>
0090 screenSize = get( 0, <span class="string">'ScreenSize'</span> );
0091 
0092 topGap = 1/12*screenSize(4);
0093 left = screenSize(3)*0.1;
0094 height = fixedHeight + handles(1).nrOfPlotStates*rowHeight;
0095 
0096 <span class="keyword">if</span> screenSize(3)*0.9 &gt; 760
0097     width = 760;
0098 <span class="keyword">else</span>
0099     width = screenSize(3)*0.85;
0100 <span class="keyword">end</span>
0101 
0102 bottom = screenSize(4) - topGap - height;
0103 posVector = [left bottom width height]; <span class="comment">%do this dynamically % [left, bottom, width, height]</span>
0104 
0105 <span class="comment">%% Building GUI</span>
0106 
0107 <span class="comment">% setting figure parameters manually</span>
0108 set(gcf,<span class="string">'Units'</span>,<span class="string">'pixels'</span>);
0109 set(gcf,<span class="string">'Position'</span>,posVector,<span class="string">'Name'</span>,[<span class="string">'Plot Parameters for node '</span> num2str( nodenumber ) ],<span class="string">'Toolbar'</span>,<span class="string">'none'</span>,<span class="string">'MenuBar'</span>,<span class="string">'none'</span>);
0110 defaultBackground = get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>);
0111 set(gcf,<span class="string">'Color'</span>,defaultBackground);
0112 
0113 <span class="comment">% parameters for panel, in which all other control elements are positioned</span>
0114 posVectorPanel = [sideFrame bottomFrame width-2*sideFrame height-topFrame]; <span class="comment">% [left, bottom, width, height]</span>
0115 ph = uipanel(<span class="string">'Parent'</span>,gcf,<span class="string">'Title'</span>,<span class="string">'Choose plot parameters'</span>,<span class="keyword">...</span>
0116         <span class="string">'Units'</span>,<span class="string">'pixel'</span>,<span class="string">'Position'</span>,posVectorPanel);
0117 
0118 <span class="comment">% parameters for pushbutton &quot;submit&quot;</span>
0119 posVectorSubmitButton = [0.15*width 1.7*bottomFrame 140 35];
0120 set(handles(1).pushbutton1,<span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'Position'</span>,posVectorSubmitButton,<span class="keyword">...</span>
0121     <span class="string">'String'</span>,<span class="string">'Submit Parameters'</span>);
0122 
0123 posVectorCancelButton = [0.55*width 1.7*bottomFrame 140 35];
0124 set(handles(1).pushbutton2,<span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'String'</span>,<span class="string">'Cancel'</span>,<span class="keyword">...</span>
0125                 <span class="string">'Position'</span>,posVectorCancelButton);
0126 
0127 <span class="comment">%DEBUGGING</span>
0128 <span class="comment">%{</span>
0129 positionText1 = get(handles.text1,<span class="string">'Position'</span>);
0130 set(handles.text1,<span class="string">'Position'</span>,[positionText1(1)+10 positionText1(2) positionText1(3) positionText1(4)]);
0131 f=get(gcf,<span class="string">'Position'</span>);
0132 set(handles.text1,<span class="string">'String'</span>,[<span class="string">'Nodenumber:'</span> num2str(nodenumber) <span class="string">' States to plot:'</span> plotStates]);
0133 <span class="comment">%}</span>
0134 
0135 <span class="comment">% setting the text for the columns</span>
0136 posVectorTextLineWidth = [66 height-2.5*topFrame 90 rowHeight] + [60 0 0 0];
0137 legendH1 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Line Width:'</span>,<span class="keyword">...</span>
0138                 <span class="string">'Position'</span>,posVectorTextLineWidth);
0139 posVectorTextLineStyle = [154 height-2.5*topFrame 90 rowHeight] + [60 0 0 0];
0140 legendH2 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Line Style:'</span>,<span class="keyword">...</span>
0141                 <span class="string">'Position'</span>,posVectorTextLineStyle);
0142 posVectorTextMarkerStyle = [245 height-2.5*topFrame 90 rowHeight] + [60 0 0 0];
0143 legendH3 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Marker Style:'</span>,<span class="keyword">...</span>
0144                 <span class="string">'Position'</span>,posVectorTextMarkerStyle);
0145 posVectorTextColor = [343 height-2.5*topFrame 80 rowHeight] + [60 0 0 0];
0146 legendH4 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Line Color:'</span>,<span class="keyword">...</span>
0147                 <span class="string">'Position'</span>,posVectorTextColor);
0148 posVectorTextMarkerEdgeColor = [430 height-2.5*topFrame 120 rowHeight] + [60 0 0 0];
0149 legendH5 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Marker Edge Color:'</span>,<span class="keyword">...</span>
0150                 <span class="string">'Position'</span>,posVectorTextMarkerEdgeColor);
0151 posVectorTextMarkerFaceColor = [560 height-2.5*topFrame 120 rowHeight] + [60 0 0 0];
0152 legendH5 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Marker Face Color:'</span>,<span class="keyword">...</span>
0153                 <span class="string">'Position'</span>,posVectorTextMarkerFaceColor);
0154 
0155 <span class="comment">% setting the elements for each row, depending on how many states are to</span>
0156 <span class="comment">% plot</span>
0157 <span class="keyword">if</span> handles(1).nrOfPlotStates &gt; 0
0158     sth1 = zeros(handles(1).nrOfPlotStates,1); <span class="comment">%handles text box 1</span>
0159 
0160     <span class="keyword">for</span> i = 1:handles(1).nrOfPlotStates
0161         <span class="comment">%Label State</span>
0162         posVectorSth1 = [rowOffset1 height-2.2*topFrame-i*rowHeight 120 rowHeight];
0163         sth1(i) = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="keyword">...</span>
0164             plotString{i},<span class="string">'Position'</span>,posVectorSth1);
0165         <span class="comment">%PopUp-Menu for LineWidth</span>
0166         posVectorSh = [rowOffset1+posVectorSth1(3) height-1.38*topFrame-i*rowHeight 50 0.40*rowHeight];
0167         handles(i).pmh1 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'popupmenu'</span>,<span class="keyword">...</span>
0168                 <span class="string">'String'</span>,handles(1).lineWidthVector,<span class="keyword">...</span>
0169                 <span class="string">'Value'</span>,5,<span class="string">'Position'</span>,posVectorSh);
0170         <span class="comment">%PopUp-Menu for LineStyle</span>
0171         posVectorSth2 = posVectorSh + [1.65*posVectorSh(3) 0 10 0];
0172         handles(i).pmh2 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'popupmenu'</span>,<span class="keyword">...</span>
0173                 <span class="string">'String'</span>,handles(1).lineStyleVector,<span class="keyword">...</span>
0174                 <span class="string">'Value'</span>,1,<span class="string">'Position'</span>,posVectorSth2);
0175         <span class="comment">%PopUp-Menu for Marker</span>
0176         posVectorSth3 = posVectorSth2 + [1.5*posVectorSth2(3) 0 0 0];
0177         handles(i).pmh3 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'popupmenu'</span>,<span class="keyword">...</span>
0178                 <span class="string">'String'</span>,handles(1).markerVector,<span class="keyword">...</span>
0179                 <span class="string">'Value'</span>,14,<span class="string">'Position'</span>,posVectorSth3);
0180         <span class="comment">%PopUp-Menu for Line Color</span>
0181         posVectorSth4 = posVectorSth3 + [1.7*posVectorSth3(3) -12 -15 15]; <span class="comment">% [left, bottom, width, height]</span>
0182         handles(i).pmh4 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'Push Button'</span>,<span class="keyword">...</span>
0183             <span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'Position'</span>,posVectorSth4,<span class="string">'BackgroundColor'</span>,[0 0 1], <span class="string">'Tag'</span>, [<span class="string">'handles('</span> num2str(i) <span class="string">').pmh4'</span>]);
0184         <span class="comment">%set(handles(i).pmh4,'Callback',{@color_setting_Callback});</span>
0185         <span class="comment">%handles.pmh4(i) = uicontrol(hObject,'Style','popupmenu',...</span>
0186         <span class="comment">%        'String',handles.colorVector,...</span>
0187         <span class="comment">%        'Value',1,'Position',posVectorSth4);</span>
0188         <span class="comment">%PopUp-Menu for Marker Edge Color</span>
0189         posVectorSth5 = posVectorSth4 + [2.4*posVectorSth4(3) 0 0 0];
0190         handles(i).pmh5 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'Push Button'</span>,<span class="keyword">...</span>
0191             <span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'Position'</span>,posVectorSth5,<span class="string">'BackgroundColor'</span>,[0 0 1],<span class="string">'Tag'</span>, [<span class="string">'handles('</span> num2str(i) <span class="string">').pmh5'</span>]);
0192         <span class="comment">%set(handles(i).pmh5,'Callback',{@color_setting_Callback});</span>
0193         <span class="comment">%handles.pmh5(i) = uicontrol(hObject,'Style','popupmenu',...</span>
0194         <span class="comment">%        'String',handles.colorVector,...</span>
0195         <span class="comment">%        'Value',1,'Position',posVectorSth5);</span>
0196         <span class="comment">%PopUp-Menu for Marker Edge Color</span>
0197         posVectorSth6 = posVectorSth5 + [2.7*posVectorSth5(3) 0 0 0];
0198         handles(i).pmh6 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'Push Button'</span>,<span class="keyword">...</span>
0199             <span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'Position'</span>,posVectorSth6,<span class="string">'BackgroundColor'</span>,[0 0 1],<span class="string">'Tag'</span>, [<span class="string">'handles('</span> num2str(i) <span class="string">').pmh6'</span>]);
0200         <span class="comment">%set(handles(i).pmh6,'Callback',{@color_setting_Callback});</span>
0201         <span class="comment">%handles.pmh6(i) = uicontrol(hObject,'Style','popupmenu',...</span>
0202         <span class="comment">%        'String',handles.colorVector,...</span>
0203         <span class="comment">%        'Value',1,'Position',posVectorSth6);</span>
0204     <span class="keyword">end</span>
0205 <span class="keyword">end</span>
0206 
0207 guidata(hObject, handles);
0208 
0209 <span class="keyword">for</span> i = 1:handles(1).nrOfPlotStates
0210     set(handles(i).pmh4,<span class="string">'Callback'</span>,{@<a href="#_sub6" class="code" title="subfunction color_setting_Callback(hObject, eventdata, handles)">color_setting_Callback</a>,handles});
0211     set(handles(i).pmh5,<span class="string">'Callback'</span>,{@<a href="#_sub6" class="code" title="subfunction color_setting_Callback(hObject, eventdata, handles)">color_setting_Callback</a>,handles});
0212     set(handles(i).pmh6,<span class="string">'Callback'</span>,{@<a href="#_sub6" class="code" title="subfunction color_setting_Callback(hObject, eventdata, handles)">color_setting_Callback</a>,handles});
0213     <span class="comment">%show old plot params</span>
0214     set(handles(i).pmh1,<span class="string">'Value'</span>,find( strcmp( handles(1).lineWidthVector, oldParams(i).lineWidth) ) );
0215     set(handles(i).pmh2,<span class="string">'Value'</span>,find( strcmp( handles(1).lineStyleVector, oldParams(i).lineStyle) ) );
0216     set(handles(i).pmh3,<span class="string">'Value'</span>, find( strcmp( handles(1).markerVector, oldParams(i).marker )  ) );
0217     set(handles(i).pmh4,<span class="string">'BackgroundColor'</span>,oldParams(i).lineColor);
0218     set(handles(i).pmh5,<span class="string">'BackgroundColor'</span>,oldParams(i).edgeColor);
0219     set(handles(i).pmh6,<span class="string">'BackgroundColor'</span>,oldParams(i).faceColor);
0220 <span class="keyword">end</span>
0221 
0222 
0223 guidata(hObject, handles);
0224 
0225 <span class="comment">% UIWAIT makes pp2 wait for user response (see UIRESUME)</span>
0226 uiwait(handles(1).figure1);
0227 
0228 
0229 <span class="comment">% --- Outputs from this function are returned to the command line.</span>
0230 <a name="_sub2" href="#_subfunctions" class="code">function varargout = pp2_OutputFcn(hObject, eventdata, handles) </a>
0231 <span class="comment">% varargout  cell array for returning output args (see VARARGOUT);</span>
0232 <span class="comment">% hObject    handle to figure</span>
0233 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0234 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0235 
0236 
0237 <span class="keyword">for</span> i = 1:handles(1).nrOfPlotStates
0238     params(i).lineWidth = handles(1).lineWidthVector{get(handles(i).pmh1,<span class="string">'Value'</span>)};
0239     params(i).lineStyle = handles(1).lineStyleVector{get(handles(i).pmh2,<span class="string">'Value'</span>)};
0240     params(i).marker = handles(1).markerVector{get(handles(i).pmh3,<span class="string">'Value'</span>)};
0241     params(i).lineColor = get(handles(i).pmh4,<span class="string">'BackgroundColor'</span>);
0242     <span class="comment">%handles.colorVector{get(handles.pmh4(i),'Value')};</span>
0243     params(i).edgeColor = get(handles(i).pmh5,<span class="string">'BackgroundColor'</span>);
0244     params(i).faceColor = get(handles(i).pmh6,<span class="string">'BackgroundColor'</span>);
0245 <span class="keyword">end</span>
0246 
0247 
0248 <span class="comment">%DEBUGGING</span>
0249 <span class="comment">%{</span>
0250 disp([params]);
0251 <span class="comment">%}</span>
0252 
0253 <span class="comment">% data should be applied to current node</span>
0254 <span class="keyword">if</span> handles(1).OutputFlag == 2
0255     <span class="comment">%varargout{1} = handles.output;</span>
0256     varargout{1} = params;
0257 <span class="comment">% data should NOT be applied ('button' cancel or 'closerequest' was prompted</span>
0258 <span class="keyword">elseif</span> handles(1).OutputFlag == 1
0259     <span class="comment">%varargout{1} = handles.output;</span>
0260     varargout{1} = [];
0261 <span class="keyword">end</span>
0262 
0263 <a href="../../../mtids/subfunctions/matgraph/@graph/delete.html" class="code" title="function delete(g,i,j,dir)">delete</a>(hObject);
0264 
0265 
0266 <span class="comment">% --- Executes on button press in pushbutton1.</span>
0267 <a name="_sub3" href="#_subfunctions" class="code">function pushbutton1_Callback(hObject, eventdata, handles)</a>
0268 <span class="comment">% hObject    handle to pushbutton1 (see GCBO)</span>
0269 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0270 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0271 
0272 <span class="comment">%for debugging</span>
0273 <span class="comment">%set(handles.text1,'String',f);</span>
0274 <span class="comment">% indictates, that the prompted data should be applied</span>
0275 handles(1).OutputFlag = 2;
0276 guidata(hObject, handles);
0277 uiresume(handles(1).figure1);
0278 
0279 
0280 <span class="comment">% --- Executes when user attempts to close figure1.</span>
0281 <a name="_sub4" href="#_subfunctions" class="code">function figure1_CloseRequestFcn(hObject, eventdata, handles)</a>
0282 <span class="comment">% hObject    handle to figure1 (see GCBO)</span>
0283 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0284 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0285 <span class="comment">% Hint: delete(hObject) closes the figure</span>
0286 handles(1).OutputFlag = 1;
0287 guidata(hObject, handles);
0288 uiresume(handles(1).figure1);
0289 
0290 
0291 <span class="comment">% --- Executes on button press in pushbutton2.</span>
0292 <a name="_sub5" href="#_subfunctions" class="code">function pushbutton2_Callback(hObject, eventdata, handles)</a>
0293 <span class="comment">% hObject    handle to pushbutton2 (see GCBO)</span>
0294 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0295 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0296 handles(1).OutputFlag = 1;
0297 guidata(hObject, handles);
0298 uiresume(handles(1).figure1);
0299 
0300 <span class="comment">% Opens a color setting dialog and passes the color to the invoking object</span>
0301 <a name="_sub6" href="#_subfunctions" class="code">function color_setting_Callback(hObject, eventdata, handles)</a>
0302 C = uisetcolor(get(hObject,<span class="string">'BackgroundColor'</span>));
0303 set(hObject,<span class="string">'BackgroundColor'</span>,C);
0304 
0305 <span class="comment">%if color was chosen for lineColor, marker and markerface color should be</span>
0306 <span class="comment">%set to same value</span>
0307 <span class="comment">%disp(['Tag of envoking object: ' get(hObject,'Tag') ]);</span>
0308 <span class="comment">%determine line number</span>
0309 tmpstr = get(hObject,<span class="string">'Tag'</span>);
0310 
0311 <span class="comment">% THIS SOLUTION WORKS ONLY IF THERE ARE LESS THAN 10 STATES TO PLOT!!!</span>
0312 ln = str2double(tmpstr(9));
0313 pmh = str2double(tmpstr(15));
0314 <span class="comment">%disp(['ln = ' num2str(ln) ]);</span>
0315 <span class="comment">%disp(['pmh = ' num2str(pmh) ]);</span>
0316 
0317 <span class="comment">%determine if color was set for linecolor</span>
0318 <span class="keyword">if</span> pmh == 4
0319    eval( [<span class="string">'set(handles('</span> num2str(ln) <span class="string">').pmh5,'</span> char(39) <span class="string">'BackgroundColor'</span> char(39) <span class="string">',C)'</span>] );
0320    eval( [<span class="string">'set(handles('</span> num2str(ln) <span class="string">').pmh6,'</span> char(39) <span class="string">'BackgroundColor'</span> char(39) <span class="string">',C)'</span>] ); 
0321 <span class="keyword">end</span>
0322 
0323 <span class="comment">%guidata(hObject, handles);</span>
0324 
0325 
0326 
0327 <span class="comment">%%%</span></pre></div>
<hr><address>Generated on Mon 01-Oct-2012 17:13:50 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>