<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of setnodecolor</title>
  <meta name="keywords" content="setnodecolor">
  <meta name="description" content="SETNODECOLOR gui to set the appearance of the nodes in MTIDS">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">mtids</a> &gt; <a href="../index.html">subfunctions</a> &gt; <a href="index.html">figures</a> &gt; setnodecolor.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mtids\subfunctions\figures&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>setnodecolor
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>SETNODECOLOR gui to set the appearance of the nodes in MTIDS</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function varargout = setnodecolor(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> SETNODECOLOR gui to set the appearance of the nodes in MTIDS

 This GUI allows to set the face and edge color of node, considering the
 different templates.

 INPUT:    (1) -- Cell array, containing the list of templates, which are
                   available in MTIDS

 OUTPUT:   (2) -- Cell array, identical to INPUT, but with updated color
                   configurations

 Author: Ferdinand Trommsdorff (f.trommsdorff@gmail.com)
 Project: MTIDS (http://code.google.com/p/mtids/)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../mtids/subfunctions/matgraph/@graph/delete.html" class="code" title="function delete(g,i,j,dir)">delete</a>	delete --- delete vertices or edges from a graph</li><li><a href="../../../mtids/subfunctions/matgraph/@graph/size.html" class="code" title="function [sz,tz] = size(g)">size</a>	size(g) --- returns [nv,ne] for the graph</li><li><a href="../../../mtids/subfunctions/matgraph/@partition/size.html" class="code" title="function s = size(p)">size</a>	size(p) --- returns [nv,np]: number of vertices, parts.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../mtids/mtids.html" class="code" title="function varargout = mtids(varargin)">mtids</a>	MTIDS Version 1.2</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function setnodecolor_OpeningFcn(hObject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = setnodecolor_OutputFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function pushbutton1_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function pushbutton2_Callback(hObject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function figure1_CloseRequestFcn(hObject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function color_setting_Callback(hObject, eventdata, handles)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = setnodecolor(varargin)</a>
0002 <span class="comment">% SETNODECOLOR gui to set the appearance of the nodes in MTIDS</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% This GUI allows to set the face and edge color of node, considering the</span>
0005 <span class="comment">% different templates.</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% INPUT:    (1) -- Cell array, containing the list of templates, which are</span>
0008 <span class="comment">%                   available in MTIDS</span>
0009 <span class="comment">%</span>
0010 <span class="comment">% OUTPUT:   (2) -- Cell array, identical to INPUT, but with updated color</span>
0011 <span class="comment">%                   configurations</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% Author: Ferdinand Trommsdorff (f.trommsdorff@gmail.com)</span>
0014 <span class="comment">% Project: MTIDS (http://code.google.com/p/mtids/)</span>
0015 
0016 <span class="comment">% Last Modified by GUIDE v2.5 16-May-2012 20:56:32</span>
0017 
0018 <span class="comment">% Begin initialization code - DO NOT EDIT</span>
0019 gui_Singleton = 1;
0020 gui_State = struct(<span class="string">'gui_Name'</span>,       mfilename, <span class="keyword">...</span>
0021                    <span class="string">'gui_Singleton'</span>,  gui_Singleton, <span class="keyword">...</span>
0022                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction setnodecolor_OpeningFcn(hObject, eventdata, handles, varargin)">setnodecolor_OpeningFcn</a>, <span class="keyword">...</span>
0023                    <span class="string">'gui_OutputFcn'</span>,  @<a href="#_sub2" class="code" title="subfunction varargout = setnodecolor_OutputFcn(hObject, eventdata, handles)">setnodecolor_OutputFcn</a>, <span class="keyword">...</span>
0024                    <span class="string">'gui_LayoutFcn'</span>,  [] , <span class="keyword">...</span>
0025                    <span class="string">'gui_Callback'</span>,   []);
0026 <span class="keyword">if</span> nargin &amp;&amp; ischar(varargin{1})
0027     gui_State.gui_Callback = str2func(varargin{1});
0028 <span class="keyword">end</span>
0029 
0030 <span class="keyword">if</span> nargout
0031     [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
0032 <span class="keyword">else</span>
0033     gui_mainfcn(gui_State, varargin{:});
0034 <span class="keyword">end</span>
0035 <span class="comment">% End initialization code - DO NOT EDIT</span>
0036 
0037 
0038 <span class="comment">% --- Executes just before setnodecolor is made visible.</span>
0039 <a name="_sub1" href="#_subfunctions" class="code">function setnodecolor_OpeningFcn(hObject, eventdata, handles, varargin)</a>
0040 <span class="comment">% This function has no output args, see OutputFcn.</span>
0041 <span class="comment">% hObject    handle to figure</span>
0042 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0043 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0044 <span class="comment">% varargin   command line arguments to setnodecolor (see VARARGIN)</span>
0045 
0046 <span class="comment">% Choose default command line output for setnodecolor</span>
0047 handles.output = hObject;
0048 
0049 <span class="comment">% read-in input arguments</span>
0050 handles.template_list = varargin{1};
0051 handles.nrOfTemplates = <a href="../../../mtids/subfunctions/matgraph/@graph/size.html" class="code" title="function [sz,tz] = size(g)">size</a>(handles.template_list,1);
0052 
0053 <span class="comment">%% Set layout parameters</span>
0054 rowHeight = 35; <span class="comment">%height of each line</span>
0055 fixedHeight = 140; <span class="comment">%height of figure, if no parameter is chosen</span>
0056 topFrame = 30;
0057 bottomFrame = 0.5*topFrame;
0058 sideFrame = 0.5*topFrame;
0059 rowOffset1 = 25;
0060 
0061 <span class="comment">%% Geometry</span>
0062 screenSize = get( 0, <span class="string">'ScreenSize'</span> );
0063 
0064 topGap = 1/12*screenSize(4);
0065 left = screenSize(3)*0.1;
0066 height = fixedHeight + handles.nrOfTemplates*rowHeight;
0067 width = 500;
0068 
0069 bottom = screenSize(4) - topGap - height;
0070 posVector = [left bottom width height]; <span class="comment">%do this dynamically % [left, bottom, width, height]</span>
0071 
0072 <span class="comment">%% Building GUI</span>
0073 
0074 <span class="comment">% setting figure parameters manually</span>
0075 set(gcf,<span class="string">'Units'</span>,<span class="string">'pixels'</span>);
0076 set(gcf,<span class="string">'Position'</span>,posVector,<span class="string">'Name'</span>,[<span class="string">'Set Color for Templates'</span>],<span class="string">'Toolbar'</span>,<span class="string">'none'</span>,<span class="string">'MenuBar'</span>,<span class="string">'none'</span>);
0077 defaultBackground = get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>);
0078 set(gcf,<span class="string">'Color'</span>,defaultBackground);
0079 
0080 <span class="comment">% parameters for panel, in which all other control elements are positioned</span>
0081 posVectorPanel = [sideFrame bottomFrame width-2*sideFrame height-topFrame]; <span class="comment">% [left, bottom, width, height]</span>
0082 ph = uipanel(<span class="string">'Parent'</span>,gcf,<span class="string">'Title'</span>,<span class="string">'Color Settings'</span>,<span class="keyword">...</span>
0083         <span class="string">'Units'</span>,<span class="string">'pixel'</span>,<span class="string">'Position'</span>,posVectorPanel);
0084 
0085 <span class="comment">% parameters for pushbutton &quot;submit&quot;</span>
0086 posVectorSubmitButton = [0.15*width 1.8*bottomFrame 140 35];
0087 set(handles.pushbutton1,<span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'Position'</span>,posVectorSubmitButton,<span class="keyword">...</span>
0088     <span class="string">'String'</span>,<span class="string">'Submit Color(s)'</span>);
0089 
0090 <span class="comment">% parameters for pushbutton &quot;cancel&quot;</span>
0091 posVectorCancelButton = [0.55*width 1.8*bottomFrame 140 35];
0092 set(handles.pushbutton2,<span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'String'</span>,<span class="string">'Cancel'</span>,<span class="keyword">...</span>
0093                 <span class="string">'Position'</span>,posVectorCancelButton);    
0094   
0095 <span class="comment">% setting the text for the columns</span>
0096 posVectorTextTemplateName = [60 height-2.5*topFrame 100 rowHeight];<span class="comment">% [left, bottom, width, height]</span>
0097 legendH1 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Template name:'</span>,<span class="keyword">...</span>
0098                 <span class="string">'Position'</span>,posVectorTextTemplateName);
0099 posVectorTextNodeFaceColor = [180 height-2.5*topFrame 120 rowHeight];
0100 legendH2 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Node face color:'</span>,<span class="keyword">...</span>
0101                 <span class="string">'Position'</span>,posVectorTextNodeFaceColor);         
0102 posVectorTextNodeEdgeColor = [300 height-2.5*topFrame 120 rowHeight];
0103 legendH3 = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="string">'Node edge color:'</span>,<span class="keyword">...</span>
0104                 <span class="string">'Position'</span>,posVectorTextNodeEdgeColor);            
0105 
0106 <span class="comment">% setting the elements for each row, depending on how many states are to</span>
0107 <span class="comment">% plot</span>
0108 <span class="keyword">if</span> handles.nrOfTemplates &gt; 0
0109     handles.rowName = zeros(handles.nrOfTemplates,1); <span class="comment">%handles text box 1</span>
0110 
0111     <span class="keyword">for</span> i = 1:handles.nrOfTemplates
0112         <span class="comment">%Label &quot;template name&quot;</span>
0113         posVectorSth1 = [ 1.3*rowOffset1 height-2.2*topFrame-i*rowHeight 120 rowHeight];
0114         handles.rowName(i) = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="string">'String'</span>,<span class="keyword">...</span>
0115             handles.template_list{i,1},<span class="string">'Position'</span>,posVectorSth1);        
0116         <span class="comment">% button for node face color</span>
0117         posVectorSth2 = posVectorSth1 + [1.5*posVectorSth1(3) 14 -70 -10]; <span class="comment">% [left, bottom, width, height]</span>
0118         handles.colorButton1(i) = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'Push Button'</span>,<span class="keyword">...</span>
0119             <span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'Position'</span>,posVectorSth2,<span class="string">'BackgroundColor'</span>,[0 0 1],<span class="keyword">...</span>
0120             <span class="string">'Tag'</span>, [<span class="string">'handles.colorButton1('</span> num2str(i) <span class="string">')'</span>]);
0121         <span class="comment">% button for node edge color</span>
0122         posVectorSth3 = posVectorSth2 + [2.2*posVectorSth2(3) 0 0 0]; <span class="comment">% [left, bottom, width, height]</span>
0123         handles.colorButton2(i) = uicontrol(hObject,<span class="string">'Style'</span>,<span class="string">'Push Button'</span>,<span class="keyword">...</span>
0124             <span class="string">'Units'</span>,<span class="string">'pixels'</span>,<span class="string">'Position'</span>,posVectorSth3,<span class="string">'BackgroundColor'</span>,[0 0 1],<span class="keyword">...</span>
0125             <span class="string">'Tag'</span>, [<span class="string">'handles.colorButton2('</span> num2str(i) <span class="string">')'</span>]);
0126         
0127     <span class="keyword">end</span>
0128 <span class="keyword">end</span>
0129             
0130 guidata(hObject, handles);
0131 
0132 <span class="keyword">for</span> i = 1:handles.nrOfTemplates
0133     <span class="comment">%show old plot params and pass callback function to color buttons</span>
0134     set(handles.colorButton1(i),<span class="string">'BackgroundColor'</span>,handles.template_list{i,2},<span class="keyword">...</span>
0135         <span class="string">'Callback'</span>,{@<a href="#_sub6" class="code" title="subfunction color_setting_Callback(hObject, eventdata, handles)">color_setting_Callback</a>,handles});
0136     set(handles.colorButton2(i),<span class="string">'BackgroundColor'</span>,handles.template_list{i,3},<span class="keyword">...</span>
0137         <span class="string">'Callback'</span>,{@<a href="#_sub6" class="code" title="subfunction color_setting_Callback(hObject, eventdata, handles)">color_setting_Callback</a>,handles});
0138 <span class="keyword">end</span>
0139 
0140             
0141 guidata(hObject, handles);
0142 uiwait(handles.figure1);
0143 
0144 
0145 <span class="comment">% --- Outputs from this function are returned to the command line.</span>
0146 <a name="_sub2" href="#_subfunctions" class="code">function varargout = setnodecolor_OutputFcn(hObject, eventdata, handles) </a>
0147 <span class="comment">% varargout  cell array for returning output args (see VARARGOUT);</span>
0148 <span class="comment">% hObject    handle to figure</span>
0149 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0150 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0151 
0152 <span class="comment">% Get default command line output from handles structure</span>
0153 <span class="comment">% varargout{1} = handles.output;</span>
0154 
0155 <span class="keyword">for</span> i = 1:handles.nrOfTemplates
0156     handles.template_list{i,2} = get(handles.colorButton1(i),<span class="string">'BackgroundColor'</span>);
0157     handles.template_list{i,3} = get(handles.colorButton2(i),<span class="string">'BackgroundColor'</span>);    
0158 <span class="keyword">end</span>
0159 
0160 <span class="comment">% data should be applied</span>
0161 <span class="keyword">if</span> handles.OutputFlag == 2
0162     varargout{1} = handles.template_list;
0163 <span class="comment">% data should NOT be applied ('button' cancel or 'closerequest' was pressed</span>
0164 <span class="keyword">elseif</span> handles.OutputFlag == 1
0165     varargout{1} = [];
0166 <span class="keyword">end</span>
0167 <a href="../../../mtids/subfunctions/matgraph/@graph/delete.html" class="code" title="function delete(g,i,j,dir)">delete</a>(hObject);
0168 
0169 
0170 <span class="comment">% --- Executes on button press in pushbutton1.</span>
0171 <a name="_sub3" href="#_subfunctions" class="code">function pushbutton1_Callback(hObject, eventdata, handles)</a>
0172 <span class="comment">% hObject    handle to pushbutton1 (see GCBO)</span>
0173 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0174 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0175 handles.OutputFlag = 2;
0176 guidata(hObject, handles);
0177 uiresume(handles.figure1);
0178 
0179 <span class="comment">% --- Executes on button press in pushbutton2.</span>
0180 <a name="_sub4" href="#_subfunctions" class="code">function pushbutton2_Callback(hObject, eventdata, handles)</a>
0181 <span class="comment">% hObject    handle to pushbutton2 (see GCBO)</span>
0182 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0183 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0184 handles.OutputFlag = 1;
0185 guidata(hObject, handles);
0186 uiresume(handles.figure1);
0187 
0188 
0189 <span class="comment">% --- Executes when user attempts to close figure1.</span>
0190 <a name="_sub5" href="#_subfunctions" class="code">function figure1_CloseRequestFcn(hObject, eventdata, handles)</a>
0191 <span class="comment">% hObject    handle to figure1 (see GCBO)</span>
0192 <span class="comment">% eventdata  reserved - to be defined in a future version of MATLAB</span>
0193 <span class="comment">% handles    structure with handles and user data (see GUIDATA)</span>
0194 
0195 <span class="comment">% Hint: delete(hObject) closes the figure</span>
0196 handles.OutputFlag = 1;
0197 guidata(hObject, handles);
0198 uiresume(handles.figure1);
0199 
0200 <span class="comment">% Opens a color setting dialog and passes the color to the invoking object</span>
0201 <a name="_sub6" href="#_subfunctions" class="code">function color_setting_Callback(hObject, eventdata, handles)</a>
0202 C = uisetcolor(get(hObject,<span class="string">'BackgroundColor'</span>));
0203 set(hObject,<span class="string">'BackgroundColor'</span>,C);</pre></div>
<hr><address>Generated on Mon 01-Oct-2012 17:13:50 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>