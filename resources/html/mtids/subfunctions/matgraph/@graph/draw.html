<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of draw</title>
  <meta name="keywords" content="draw">
  <meta name="description" content="draw(g) --- draw g in a figure window">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="../../../index.html">mtids</a> &gt; <a href="../../index.html">subfunctions</a> &gt; <a href="../index.html">matgraph</a> &gt; <a href="index.html">@graph</a> &gt; draw.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mtids\subfunctions\matgraph\@graph&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>draw
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>draw(g) --- draw g in a figure window</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function draw(g,dir,line_style,nodeFillColor,nodeEdgeColor) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> draw(g) --- draw g in a figure window
 draw(g,dir) --- interpret g as a directed graph
 draw(g,dir,line_style) --- lines have given line_style
 draw(g,dir,line_style,nodeFillColor) -- passes a desired color for the
 vertex face color, it is a cell array with as many entries as nodes in the graph
 draw(g,dir,line_style,nodeFillColor,nodeEdgeColor) --
                passes also the color for the node edges, data format is
                identical to nodeFillColor
 see also <a href="ndraw.html" class="code" title="function ndraw(g,dir,line_style,nodeFillColor,nodeEdgeColor)">ndraw</a>, <a href="ldraw.html" class="code" title="function ldraw(g,dir,line_style,nodeFillColor,nodeEdgeColor)">ldraw</a>, and <a href="cdraw.html" class="code" title="function cdraw(g,dir,coloring,line_style,color_matrix)">cdraw</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="alpha.html" class="code" title="function [a,S] = alpha(g)">alpha</a>	[a,S] = alpha(g) --- indepencence number</li><li><a href="edge_color.html" class="code" title="function c = edge_color(g,algo)">edge_color</a>	edge_color(g,algo) --- find a proper edge coloring of the graph g</li><li><a href="edges.html" class="code" title="function [elist] = edges(g,dir)">edges</a>	edges(g) --- list the edges in g as a 2-column matrix</li><li><a href="embed.html" class="code" title="function embed(g,xy)">embed</a>	embed --- create an embedding for a graph</li><li><a href="getxy.html" class="code" title="function z = getxy(g)">getxy</a>	getxy(g) --- give g's embedding (or [] if g doesn't have one)</li><li><a href="hasxy.html" class="code" title="function yn = hasxy(g)">hasxy</a>	hasxy(g) --- determine if an embedding has been created for g</li><li><a href="ne.html" class="code" title="function m = ne(g,dir,h)">ne</a>	ne(g) --- number of edges in g</li><li><a href="nv.html" class="code" title="function n = nv(g)">nv</a>	nv(g) --- number of vertices in g</li><li><a href="../../../../mtids/subfunctions/matgraph/@partition/ne.html" class="code" title="function yn = ne(p,q)">ne</a>	ne(p,q) --- p ~= q checks if p and q are different</li><li><a href="../../../../mtids/subfunctions/matgraph/@partition/nv.html" class="code" title="function n = nv(p)">nv</a>	nv(p) --- number of vertices (elements) of a partition</li><li><a href="../../../../mtids/subfunctions/matgraph/@permutation/ne.html" class="code" title="function tf = ne(p,q)">ne</a>	test if p ~= q</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="../../../../mtids/mtids.html" class="code" title="function varargout = mtids(varargin)">mtids</a>	MTIDS Version 1.2</li><li><a href="ldraw.html" class="code" title="function ldraw(g,dir,line_style,nodeFillColor,nodeEdgeColor)">ldraw</a>	ldraw(g,dir) -- draw a graph with vertices marked with their labels</li><li><a href="ndraw.html" class="code" title="function ndraw(g,dir,line_style,nodeFillColor,nodeEdgeColor)">ndraw</a>	ndraw(g) --- draw g in a figure window with numbered vertices</li><li><a href="../../../../mtids/subfunctions/matgraph/samples/cayley_graph.html" class="code" title="">cayley_graph</a>	% Creating a Cayley graph</li><li><a href="../../../../mtids/subfunctions/matgraph/samples/edraw.html" class="code" title="function edraw(g,elist)">edraw</a>	</li><li><a href="../../../../mtids/subfunctions/matgraph/samples/hamiltonian.html" class="code" title="">hamiltonian</a>	% Finding and displaying Hamiltonian cycles in Matgraph</li><li><a href="../../../../mtids/subfunctions/matgraph/samples/isomorphism.html" class="code" title="">isomorphism</a>	% Checking graph isormorphism in Matgraph</li><li><a href="../../../../mtids/subfunctions/matgraph/samples/spanning_tree.html" class="code" title="">spanning_tree</a>	% Finding spanning trees</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function draw(g,dir,line_style,nodeFillColor,nodeEdgeColor)</a>
0002 <span class="comment">% draw(g) --- draw g in a figure window</span>
0003 <span class="comment">% draw(g,dir) --- interpret g as a directed graph</span>
0004 <span class="comment">% draw(g,dir,line_style) --- lines have given line_style</span>
0005 <span class="comment">% draw(g,dir,line_style,nodeFillColor) -- passes a desired color for the</span>
0006 <span class="comment">% vertex face color, it is a cell array with as many entries as nodes in the graph</span>
0007 <span class="comment">% draw(g,dir,line_style,nodeFillColor,nodeEdgeColor) --</span>
0008 <span class="comment">%                passes also the color for the node edges, data format is</span>
0009 <span class="comment">%                identical to nodeFillColor</span>
0010 <span class="comment">% see also ndraw, ldraw, and cdraw</span>
0011   
0012 <span class="keyword">if</span> nargin &lt; 5
0013     nodeEdgeColor = <span class="string">'r'</span>;
0014 <span class="keyword">end</span>
0015 
0016 <span class="keyword">if</span> nargin &lt; 4
0017     nodeFillColor = <span class="string">'w'</span>;
0018 <span class="keyword">end</span>
0019 
0020 <span class="keyword">if</span> nargin &lt; 3
0021     line_style=<span class="string">'-'</span>;
0022 <span class="keyword">end</span>
0023 
0024 <span class="keyword">if</span> nargin &lt; 2
0025     dir = 0;
0026 <span class="keyword">end</span>
0027 
0028 <span class="comment">% edit these to change the colors</span>
0029 <a href="edge_color.html" class="code" title="function c = edge_color(g,algo)">edge_color</a> = <span class="string">'b'</span>;
0030 
0031 <span class="comment">% do here the coloring for the nodes</span>
0032 
0033 r = 0.15;
0034 
0035 <span class="comment">%step: needed for non-line connection between nodes</span>
0036 step = 0.15;
0037 <span class="comment">%min_dist: needed to avoid improper quadratic interpolation parametrization</span>
0038 <span class="comment">% min_dist = 0.05;</span>
0039 <span class="comment">%set arrow parameters</span>
0040 arrLength = 0.10;
0041 arrWidth = 0.08;
0042 arrPos = 92/100; <span class="comment">%position of arrow in percent of the length between outgoing and incoming node</span>
0043 <span class="comment">%ellSample; iteration steps for drawing the ellipse</span>
0044 <span class="comment">% ellSteps = 100;</span>
0045 
0046 n = <a href="nv.html" class="code" title="function n = nv(g)">nv</a>(g);
0047 
0048 <span class="keyword">if</span> ~<a href="hasxy.html" class="code" title="function yn = hasxy(g)">hasxy</a>(g)
0049     <a href="embed.html" class="code" title="function embed(g,xy)">embed</a>(g);
0050 <span class="keyword">end</span>
0051 
0052 xy = <a href="getxy.html" class="code" title="function z = getxy(g)">getxy</a>(g);
0053 
0054 <span class="comment">% first draw the edges</span>
0055 
0056 elist = <a href="edges.html" class="code" title="function [elist] = edges(g,dir)">edges</a>(g,dir);
0057 
0058 <span class="keyword">if</span> dir == 0 <span class="comment">%interpret graph as undirected</span>
0059     <span class="keyword">for</span> j=1:<a href="ne.html" class="code" title="function m = ne(g,dir,h)">ne</a>(g)
0060         u = elist(j,1); <span class="comment">%from u ...</span>
0061         v = elist(j,2); <span class="comment">% ... to v</span>
0062         x = xy([u,v],1);
0063         y = xy([u,v],2);
0064         line(x,y,<span class="string">'Color'</span>, <a href="edge_color.html" class="code" title="function c = edge_color(g,algo)">edge_color</a>,<span class="string">'LineStyle'</span>,line_style);
0065     <span class="keyword">end</span>
0066 <span class="keyword">end</span>
0067 
0068 <span class="keyword">if</span> dir == 1 <span class="comment">% interpret graph as directed</span>
0069     <span class="keyword">for</span> j=1:<a href="ne.html" class="code" title="function m = ne(g,dir,h)">ne</a>(g,dir)
0070         u = elist(j,1); <span class="comment">%from u ...</span>
0071         v = elist(j,2); <span class="comment">% ... to v</span>
0072 
0073         <span class="comment">%prepare start and end coordinates</span>
0074         from = xy(u,:)';
0075         to = xy(v,:)';
0076         <span class="comment">%vector from outgoing vertex to incoming vertex</span>
0077         ft = xy(v,:)'-xy(u,:)';
0078         <span class="comment">%prepare the orthogonal of the line connection between both vertices</span>
0079         ftT = [-ft(2); ft(1)]/norm([-ft(2); ft(1)]);
0080         <span class="comment">%angle of direction vector pointing from outoing to incoming vertex</span>
0081 <span class="comment">%         ftAngle = atan2(ft(2),ft(1))/pi*180;</span>
0082         <span class="comment">%prepare middle of line connection between both vertices</span>
0083 <span class="comment">%         middle = 0.5*(xy(u,:)'+xy(v,:)');</span>
0084         <span class="comment">%line from &quot;from&quot; to &quot;to&quot;</span>
0085         xlin = linspace(from(1),to(1));
0086         ylin = linspace(from(2),to(2));
0087         
0088         <span class="keyword">for</span> i = 1:length(xlin)
0089             <a href="alpha.html" class="code" title="function [a,S] = alpha(g)">alpha</a> = pi/length(xlin)*i;
0090             temp = step*sin(<a href="alpha.html" class="code" title="function [a,S] = alpha(g)">alpha</a>)*ftT;
0091             xlin(i) = xlin(i) + temp(1);
0092             ylin(i) = ylin(i) + temp(2);
0093         <span class="keyword">end</span>
0094         
0095         line(xlin,ylin,<span class="string">'Color'</span>, <a href="edge_color.html" class="code" title="function c = edge_color(g,algo)">edge_color</a>,<span class="string">'LineStyle'</span>,line_style);
0096                 
0097         <span class="comment">%approximate slope vector for orientation of arrow</span>
0098         arrVec = (to - [xlin(length(xlin)/2);ylin(length(xlin)/2)])/<span class="keyword">...</span>
0099             norm(to - [xlin(length(xlin)/2);ylin(length(xlin)/2)]);       
0100         <span class="comment">%get point of curve, on which the arrow should lie</span>
0101         atop = [xlin(length(xlin)*arrPos);ylin(length(xlin)*arrPos)];
0102         
0103         <span class="comment">%first rotation matrix with angle phi</span>
0104         phi = 5*pi/6;
0105         R=[cos(phi) -sin(phi); sin(phi) cos(phi)];
0106         <span class="comment">%compute endpoint of one arrow cathetus</span>
0107         end_point1 = R*arrVec;
0108         line([atop(1),atop(1)+arrLength*end_point1(1)],<span class="keyword">...</span>
0109             [atop(2),atop(2)+arrLength*end_point1(2)],<span class="string">'Color'</span>,<span class="keyword">...</span>
0110             <a href="edge_color.html" class="code" title="function c = edge_color(g,algo)">edge_color</a>,<span class="string">'LineStyle'</span>,line_style,<span class="string">'LineWidth'</span>,arrWidth);
0111         <span class="comment">%second rotation matrix with angle phi</span>
0112         phi = -5*pi/6;
0113         R=[cos(phi) -sin(phi); sin(phi) cos(phi)];
0114         <span class="comment">%compute endpoint of one arrow cathetus</span>
0115         end_point1 = R*arrVec;
0116         line([atop(1),atop(1)+arrLength*end_point1(1)],<span class="keyword">...</span>
0117             [atop(2),atop(2)+arrLength*end_point1(2)],<span class="string">'Color'</span>,<span class="keyword">...</span>
0118             <a href="edge_color.html" class="code" title="function c = edge_color(g,algo)">edge_color</a>,<span class="string">'LineStyle'</span>,line_style,<span class="string">'LineWidth'</span>,arrWidth);
0119 
0120     <span class="keyword">end</span>       
0121 <span class="keyword">end</span>
0122 
0123 <span class="comment">% now draw the vertices</span>
0124   
0125 <span class="keyword">for</span> v=1:n
0126     x = xy(v,1);
0127     y = xy(v,2);
0128     <span class="keyword">if</span> nargin &lt; 4
0129     rectangle(<span class="string">'Position'</span>, [x-r/2, y-r/2, r, r],<span class="keyword">...</span>
0130               <span class="string">'Curvature'</span>, [1 1], <span class="keyword">...</span>
0131               <span class="string">'EdgeColor'</span>, nodeEdgeColor, <span class="keyword">...</span>
0132               <span class="string">'FaceColor'</span>, nodeFillColor );
0133     <span class="keyword">else</span>
0134     rectangle(<span class="string">'Position'</span>, [x-r/2, y-r/2, r, r],<span class="keyword">...</span>
0135              <span class="string">'Curvature'</span>, [1 1], <span class="keyword">...</span>
0136              <span class="string">'EdgeColor'</span>, nodeEdgeColor{v}, <span class="keyword">...</span>
0137              <span class="string">'FaceColor'</span>, nodeFillColor{v} );
0138     <span class="keyword">end</span>
0139 <span class="keyword">end</span>
0140 
0141 
0142 
0143 axis equal
0144 axis off</pre></div>
<hr><address>Generated on Mon 01-Oct-2012 17:13:50 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>